<div class="panel panel-default">
  <div class="panel-heading">
    <h2 class="panel-title">Transfer Order List</h2>
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="col-xs-12">
        <form #transferOrderSearchForm="ngForm" class="form-horizontal">
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row"> <label for="equipmentId" class="col-xs-4 col-form-label">Equipment</label>
                  <div class="col-xs-8">
                    <select class="form-control readOnly" name="equipmentId" [(ngModel)]=transferOrderSearch.equipmentId>
                    <option [ngValue]="null">Select Equipment</option>
                    <option *ngFor="let equipment of equipmentList"
                      [value]="equipment.equipmentId"
                      >{{equipment.equipmentName}}</option>
                  </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row"><label for="customerId" class="col-xs-4 col-form-label">Customer</label>
                  <div class="col-xs-8">
                    <select class="form-control readOnly" name="customerId" [(ngModel)]="transferOrderSearch.customerId">
                    <option [ngValue]="null">Select Customer</option>
                    <option *ngFor="let customer of customerList"
                      [value]="customer.companyId"
                      >{{customer.companyName}}</option>
                  </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row"><label for="productId" class="col-xs-4 col-form-label">Product</label>
                  <div class="col-xs-8">
                    <select class="form-control readOnly" id="productId" name="productId" [(ngModel)]=transferOrderSearch.productId>
                      <option [ngValue]="null">Select Product</option>
                      <option *ngFor="let product of productList"
                        [value]="product.productId"
                        >{{product.productName}}</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row">
                  <label for="shipperId" class="col-xs-4 col-form-label">Shipper</label>
                  <div class="col-xs-8">
                    <select class="form-control readOnly" name="shipperId" [(ngModel)]="transferOrderSearch.shipperId">
              <option [ngValue]="null">Select Shipper</option>
                        <option *ngFor="let shipper of shipperList"
                        [value]="shipper.companyId"
                        >{{shipper.companyName}}</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row"><label for="shipperOrderNumber" class="col-xs-4 col-form-label">Shipper Order#</label>
                  <div class="col-xs-8">
                    <input type="text" id="shipperOrderNumber" class="form-control readOnly" name="shipperOrderNumber" [(ngModel)]=transferOrderSearch.shipperOrderNumber>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row"><label for="locationId" class="col-xs-4 col-form-label">Carrier</label>
                  <div class="col-xs-8">
                    <select class="form-control readOnly" id="locationId" name="locationId" [(ngModel)]="transferOrderSearch.carrierId">
                      <option [ngValue]="null">Select Carrier</option>
                      <option *ngFor="let carrier of carrierList"
                        [value]="carrier.companyId"
                        >{{carrier.companyName}}</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="row">
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row"><label for="transferType" class="col-xs-4 col-form-label">Transfer Type</label>
                  <div class="col-xs-8">
                    <select class="form-control readOnly" name="transferTypeId" [(ngModel)]="transferOrderSearch.transferTypeId">
                        <option [ngValue]="null">Select Transfer Type</option>
                        <option *ngFor="let transferType of transferTypeList"
                        [value]="transferType.transferTypeId"
                        >{{transferType.transferType}}</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row"><label for="isVoided" class="col-xs-4 col-form-label">Voided</label>
                  <div class="col-xs-2">
                    <input type="checkbox" class="readOnly" name="isVoided" [(ngModel)]=transferOrderSearch.isVoided>
                  </div>
                  <label for="isValidated" class="col-xs-4 col-form-label">Validated</label>
                  <div class="col-xs-2">
                    <input type="checkbox" class="readOnly" name="isValidated" [(ngModel)]=transferOrderSearch.isValidated>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row">
                  <label for="dateType" class="col-xs-4 col-form-label">Date Type</label>
                  <div class="col-xs-8">
                    <label for="dateType" class="radio-inline">                   
                      <input name="dateType" type="radio" value="Loaded Date" [(ngModel)]=transferOrderSearch.dateType>Loaded
                    </label>
                    <label for="dateType" class="radio-inline">                  
                      <input name="dateType" type="radio" value="Delivered Date" [(ngModel)]=transferOrderSearch.dateType>Delivered
                      </label>
                    <label for="dateType" class="radio-inline">                  
                      <input name="dateType" type="radio" value="Ordered Date" [(ngModel)]=transferOrderSearch.dateType>Order
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-4">
              <div class="form-group">
                <div class="row">
                  <label for="startDate" class="col-xs-4 col-form-label">Start Date</label>
                  <div class="col-xs-4">
                    <div id="startDate" class="input-group date">
                      <input type="type" class="form-control" name="startDate" ngui-datetime-picker useValueAsDate [(ngModel)]="transferOrderSearch.startDate">
                      <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div id="startDate" class="input-group date"> <input type="type" ngui-datetime-picker class="form-control" name="startDate" useValueAsDate [(ngModel)]="transferOrderSearch.endDate">
                      <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="form-group ">
            <button class="btn btn-primary" type="button" (click)="searchTransferOrder()">Search</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="panel-body">

    <button type="button" class="btn btn-primary" (click)="addNewDetail($event)" [disabled]="!pageSecurity.isWritable">Add New Order</button>
    <button type="button" class="btn btn-primary" (click)="validateTransferOrders($event)" [disabled]="!pageSecurity.isWritable">Validate</button>
    <table class="table table-condensed table-bordered table-responsive table-striped table-hover">
      <thead>
        <tr>
          <th>Id</th>
          <th>Customer</th>
          <th>Shipper</th>
          <th>Product</th>
          <th>ShipperOrder#</th>
          <th>PO#</th>
          <th>OrderStatus</th>
          <th>Validated</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let transferOrder of transferOrderSearchResultList; let i=index">
          <td (click)="gotoDetail(transferOrder)">{{transferOrder.transferOrderId}}</td>
          <td (click)="gotoDetail(transferOrder)">{{transferOrder.customerName}}</td>
          <td (click)="gotoDetail(transferOrder)">{{transferOrder.shipperName}}</td>
          <td (click)="gotoDetail(transferOrder)">{{transferOrder.productName}}</td>
          <td (click)="gotoDetail(transferOrder)">{{transferOrder.shipperOrderNumber}}</td>
          <td (click)="gotoDetail(transferOrder)">{{transferOrder.purchaseOrderNumber}}</td>
          <td (click)="gotoDetail(transferOrder)">{{transferOrder.orderStatus}}</td>
          <td>
            <div *ngIf="transferOrder.orderStatus !== 'VALIDATED'">
              <td><input type="checkbox" class="checkbox" name="{{i}}IsValidated" #{{i}}IsValidated="ngModel" [(ngModel)]=transferOrder.isValidated
                  [disabled]="!transferOrder.isCompleted"> </td>
            </div>
            <div *ngIf="transferOrder.isValidated && transferOrder.orderStatus === 'VALIDATED'">
              Yes
            </div>

          </td>
        </tr>
      </tbody>
    </table>
    <button type="button" class="btn btn-primary" (click)="addNewDetail($event)" [disabled]="!pageSecurity.isWritable">Add New Order</button>
    <button type="button" class="btn btn-primary" (click)="validateTransferOrders($event)" [disabled]="!pageSecurity.isWritable">Validate</button>
    <div *ngIf="loading == true" class="loader">Loading/Processing..</div>
  </div>
</div>
